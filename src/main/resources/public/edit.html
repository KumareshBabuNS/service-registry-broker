<!doctype html>
<html>
<head>
<title>Service Registry Broker</title>
<link href="css/angular-bootstrap.css" rel="stylesheet">

<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">

<!-- Optional theme -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap-theme.min.css">

<!-- Latest compiled and minified JavaScript -->

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>

<style type="text/css">
[ng\:cloak], [ng-cloak], .ng-cloak {
  display: none !important;
}
</style>
</head>

<body ng-app="myApp">

  <h2 class="normal" align="center"> Service Registry Broker </h2>
  <div class="container">    
    
	<div class="panel panel-primary" ng-controller="editServiceDefn" ng-init="editServiceDefn()">
	  <div class="panel-heading">
	    
	    <h4 class="panel-title"> <font color="white">Edit Service: &nbsp; {{ serviceDefn.name }} </font> </h4>
	    
	  </div>
	  <div class="panel-body">
	    <table class="table">
		    <tr>
		    <td class="col-md-2"> Name <td>
		    <td> <input type=text  size="40" value="{{ serviceDefn.name }}">  </td>
		    </tr>
		    <tr>
		    <td class="col-md-2"> Description <td>
		    <td> <input type=text  size="40" value="{{ serviceDefn.description }}">  </td>
		    </tr> 
		    <tr>
		    <td> Long Description <td>
		    <td > <input type=text size="90" value="{{ serviceDefn.metadata.longDescription }}">  </td>
		    </tr> 
		    <tr>
		    <td> Provider <td>
		    <td> <input type=text size="40" value="{{ serviceDefn.metadata.displayName }}">  </td>
		    </tr> 
		    <tr>
		    <td> Detailed Provider Info <td>
		    <td> <input type=text size="90" value="{{ serviceDefn.metadata.providerDisplayName }}">  </td>
		    </tr> 
		    <tr>
		    <td> Image Url <td>
		    <td> <input type=text size="90" value="{{ serviceDefn.metadata.imageUrl }}">  </td>
		    </tr>
		    <tr>
		    <td> Documentation Url <td>
		    <td> <input type=text size="90" value="{{ serviceDefn.metadata.documentationUrl }}">  </td>
		    </tr> 
		  </table>
		  
		  <table class="table">
		    <tr ng-repeat="plan in serviceDefn.plans">
	      	<td >
	      	   &nbsp;
	      	   <table class="table table-striped" width ="100%">
	      	   	<thead>
	      	   	<tr><th class="col-md-1">Name</th><th class="col-md-1">Free</th><th class="col-md-3">Description</th><th class="col-md-3">Tags</th><th class="col-md-10">Credentials (in JSON)</th> </tr>
	      	   	</thead>
	      	   	<tbody>
	      	   	<tr >
	      	   		<td >
				    	<input type=text size="20" value="{{ plan.name }}"/> 
				    </td>
				   <td >
				    	<input type=text size="3" value="{{ plan.free }}"/>
				    </td>
				    <td>
				    	<input type=text size="40" value="{{ plan.description }}"/>
				    </td>
				    <td>
				    	<input type=text size="30" value="{{ plan.bullets }}"/>
				    </td>
				    <td>
				  </tr>
				  </tbody>
				  </table>
				  
				  
			        <div class="panel panel-normal" ng-controller="getCredentialsForPlanCtrl">
			    		<div class="panel-heading" >
						    <a data-toggle="collapse" href="#{{plan.id}}" ng-click="getCreds(plan.id)">
						    	<h4 class="panel-title">Show associated credentials </h4> 
						    </a>
						 </div>
						<div id="{{plan.id}}" class="panel-collapse collapse">	 
							 <div class="panel-body">
							 
							 <table class="table table-striped">
							
						      <tr ng-repeat="(key, value) in credentials[0]">
						      	<td>
						      	   {{ key }}
						      	</td>   
						      	<td>
						      	  <input type=text size="40" value="{{ value }}">
						      	</td>
					      	</tr> 
					      	</table>      	   
							
						</div>
					</div>	    	
				    	</td>
			    	</tr>
			    	
	      	   
	      	</td>
	      </tr>
	    </table>
	    </div>
	    
	  </div>
  </div>
		
  
  <script src="js/angular.min.js"></script>
  <script src="js/app.js"></script>
</body>
</html>